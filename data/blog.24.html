<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Below are the brief notes that I took while at DevConnections in Las Vegas (November/2008) This blog entry is mostly bullet points of things that I found interesting without much details. I'll elaborate on some of these topics in future blog entries.<o:p></o:p></span></p>

<div class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal; text-align: center" align="center"><span style="font-size: 10pt; color: red; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-size: 11.0pt"><hr align="center" width="100%" size="2" />
</span></div>

<p class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal"><span style="font-size: 10pt; color: red; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-size: 11.0pt">Tuesday, November 11th</span><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-size: 11.0pt"><o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: normal; mso-outline-level: 2"><span style="font-size: 16pt; color: #bc8f5f; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'"><span style="font-size: 10pt; color: black; font-family: 'Arial','sans-serif'; mso-fareast-font-family: 'Times New Roman'"><img alt="" align="left" src="http://hectorcorrea.com/images/vg_mandalaybay.jpg" /></span>Opening Keynote </span><span style="font-size: 16pt; color: #bc8f5f; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;; mso-fareast-font-family: 'Times New Roman'"><o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Scott Gu started with an overview of some of the new features released in the last year which included:</span></p>
<ul>
    <li><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Dynamic data access (to build a database application with a wizard</span></li>
    <li><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Charting controls for ASP.NET</span></li>
    <li><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">ASP.NET MVC - </span><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">TDD friendly,&nbsp;c</span><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">loser to the metal (HTML) programming model, </span><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Not for everyone</span></li>
    <li><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Several Silverlight demos<o:p></o:p></span></li>
</ul>
<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Then he went to describe some of the new things coming in Visual Studio 2010 and ASP.NET 4.0 which included:</span></p>
<ul>
    <li><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Visual Studio's UI will use WPF rather than Windows Form</span></li>
    <li><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Better support for release and deployment (e.g. support for multiple web.config files, one for each environment)</span></li>
    <li><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Better support for documentation and integration with TFS work items</span></li>
    <li><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Native support for SharePoint</span></li>
    <li><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">TDD workflow</span></li>
    <li><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Distributed caching for ASP.NET apps (look for project Velocity)</span></li>
    <li><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">NET continuum (web, desktop, RIA)<o:p></o:p></span></li>
</ul>

<p class="MsoNormal" style="margin: 0in 0in 0pt; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'"><a href="http://weblogs.asp.net/christoc/archive/2008/11/11/scott-guthrie-s-keynote-at-devconnections-openforce.aspx">Chris Hammond</a> has a&nbsp;very nice summary of this sesion</span><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">.<o:p></o:p></span></p>
<div class="MsoNormal" style="margin: 0.2in 0in; line-height: normal; text-align: center; mso-outline-level: 2" align="center"><span style="font-size: 10pt; color: red; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-size: 11.0pt"><hr align="center" width="100%" size="2" />
</span></div>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: normal; mso-outline-level: 2"><span style="font-size: 16pt; color: #bc8f5f; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Entity Framework in a World of Services and Processes<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'"><img alt="" align="left" src="http://hectorcorrea.com/images/vg_backpack.jpg" />The Entity Data Model (.edmx) generated with the Entity Framework (EF) is serializable by default which makes it compatible with WCF out of the box.<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Context in EF is the equivalent to a database connection in data access<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Gotcha: You need to enumerate LINQ results before passing them back with the EF if you (as you should) surround your context with a using statement <o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal"><em><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">using (EF context)<o:p></o:p></span></em></p>

<p class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal"><em><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">{<o:p></o:p></span></em></p>

<p class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal"><em><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">var blog = from x in ctx.Blogs select y;<o:p></o:p></span></em></p>

<p class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal"><em><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">return blogs.ToArray() // enumerate before end of using<o:p></o:p></span></em></p>

<p class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal"><em><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">}<o:p></o:p></span></em></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">In my opinion, the Entity Framework seems unfinished. Although EF makes really easy to ready data using an object model the interface to save data (inserts and updates) looks complicated. Several &quot;hacks&quot; were needed to save data.&nbsp;The problem seems to stem from the&nbsp;fact that the EF is very&nbsp;good understanding state but not inferring intent. Currently all operations apply to the entire object graph and there is no easy way to make operations more granular. This will be worked out in version 2.<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">ADO.NET Data Sets (formerly known as Astoria) makes data accessible through HTTP via a REST approach. In this approach the intent is inferred from the URL. <o:p></o:p></span></p>
<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">SOAP uses lots of&nbsp;verbs while REST&nbsp;few&nbsp;verbs (put/get/post/delete) but lots of nouns.<o:p></o:p></span></p>

<div class="MsoNormal" style="margin: 0.2in 0in; line-height: normal; text-align: center; mso-outline-level: 2" align="center"><span style="font-size: 10pt; color: red; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-size: 11.0pt"><hr align="center" width="100%" size="2" />
</span></div>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: normal; mso-outline-level: 2"><span style="font-size: 16pt; color: #bc8f5f; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">ASP.NET MVC - so what?<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'"><img alt="" align="left" src="http://hectorcorrea.com/images/vg_bike.jpg" />Scott Hanselman gave a very good presentation describing what MVC provides and does not when compared with traditional ASP.NET Web Forms. <o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">The first thing he clarified is that ASP.NET is greater than MVC&nbsp;or WebForms. Secondly, both approaches are here to stay. They target different audiences. <o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">ASP.NET with Web Forms hides HTML from the developer and adds a state subsystem to HTML.<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">MVC is a new project type in ASP.NET. It gives the developer more control over the HTML, lends to code easier to test (TDD friendly), but it is not for everyone. Unlike WebForms there are no event in MVC, that is there is no button&rsquo;s click event, no page postback, no viewstate, and no page lifecycle. <o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">If we lose so many &ldquo;web form&rdquo; features with MVC, isn&rsquo;t it like going back to classic ASP? No, there was no separation of concerns in classic ASP (more on this below) the code was all lumped in a single page and it wasn&rsquo;t easy to test.<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">You can mix and match WebForms and MVC in a single web site. <o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">A typical URL in an MVC follows this format: </span><span style="font-size: 10pt; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'"><font color="#0000ff">http://controller/method/methodparameter</font></span><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">, for example: </span><span style="font-size: 10pt; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'"><font color="#0000ff">http://products/retrieve/3</font></span><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'"><o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">The name MVC comes from the Model View Controller pattern. Sites with MVC use a controller (C) to interact with a model (M) to get data and return views (V). This model enforces a clear separation of concerns between the model, the view, and the controller, for example, the controller does not know anything about HTML, that&rsquo;s the job of the view. The view does not know anything about the database, that&rsquo;s the job of the model. <o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">The default view used by MVC uses WebForms. You can build your own or use third party views. Scott showed a kind of view using a third party product called NHAML that was quite different to a traditional WebForm way of constructing an HTML page.<o:p></o:p></span></p>
<div class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt; text-align: center" align="center"><span style="font-size: 10pt; color: red; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-size: 11.0pt"><hr align="center" width="100%" size="2" />
</span></div>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 16pt; color: #bc8f5f; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">LINQ to everything</span><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'"><o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0in 0in 0pt; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'"><img alt="" align="left" src="http://hectorcorrea.com/images/vg_lion.jpg" />The speakers gave a tour of all the different LINQ flavors to query a variety of data sources. Slides</span><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-size: 11.0pt">&nbsp;can be found at </span><span style="font-size: 10pt; color: #573323; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-size: 11.0pt"><a target="_blank" href="http://blogs.msdn.com/aconrad/">http://blogs.msdn.com/aconrad/</a></span><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">&nbsp;<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'"><strong>LINQ to objects</strong> - Provides a mechanism to query objects. <o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'"><strong>LINQ to SQL</strong> &ndash; Provides LINQ&rsquo;s functionality but targeting a database (SQL Server only) rather than objects.<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'"><strong>LINQ to Entities</strong> &ndash; A higher level of abstraction than LINQ to SQL, includes support for modeling (Entity Data Models) and supports multiple backend via plug-ins (although the only available at this point is for SQL Server)<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'"><strong>LINQ to DataSet</strong> &ndash; So that you don&rsquo;t los you investment on DataSets Microsoft provides this flavor. The tag line is: &quot;Not having to say you're sorry&quot; Supports everything from DataSets (e.g. offline access) with a few extra features (e.g. LINQ joins)<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'"><strong>LINQ to XML</strong> &ndash; Provides a lightweight XML API (lighter than the DOM.) Several new XML classes are LINQ aware. For example, the new XDocument is LINQ aware but not the old XmlDocument.</span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Easier to generate XML documents with Linq to XML than traditional use of the DOM.<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal"><em><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">XDocument xdoc = new XDocument(<o:p></o:p></span></em></p>

<p class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal"><em><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">new XElement(&quot;contacts&quot;,<o:p></o:p></span></em></p>

<p class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal"><em><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">from c in contacts where country = &quot;South Africa&quot;)<o:p></o:p></span></em></p>

<p class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal"><em><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">select new XElement(&quot;name&quot;)</span></em></p>

<p class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal">&nbsp;</p>

<p class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">VB.NET you can type XML directly as regular VB code (without having to add quotes) and embed expressions in the XML&nbsp;(similar to the way they are embedded in an ASP.NET) that get rendered at runtime to produce the final XML. This is really cool. Too bad we don&rsquo;t have it in C#.<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'"><strong>LINQ to ADO.NET Data Services</strong> - ADO.NET Data Services allow you to publish your data model as REST-based web services so that any HTTP client can consume them. For example you can use a URL like this http:/localhost/myservice.svc/customers(&quot;ALFKI&quot;)/Orders to retrieve orders for customer with key &ldquo;ALFKI&rdquo;. You can query ADO.NET Data Services with LINQ. <o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'"><strong>LINQ to Cloud Data Sources</strong> - At PDC earlier this year Microsoft unveiled two &quot;cloud data sources&quot;: Microsoft Azure and SQL Data Services<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'"><strong>LINQ to [insert your custom provider here]</strong> &ndash; You can write your own data source and make it LINQ friendly. Must implement IQueryable&lt;T&gt; and IQueryProvider. The two main challenges are (1) translate LINQ expressions to your native data source language and (2) transform query results to objects. They demo a LINQ to Twitter implementation. <o:p></o:p></span></p>
<div class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt; text-align: center" align="center"><span style="font-size: 10pt; color: red; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-size: 11.0pt"><hr align="center" width="100%" size="2" />
</span></div>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 16pt; color: #bc8f5f; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Implementing RESTful Services with WCF 3.5 SP1</span><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'"><o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0in 0in 0pt; line-height: 21.6pt"><span><img alt="" align="left" src="http://hectorcorrea.com/images/vg_geeks.jpg" />&nbsp;<a target="_blank" href="http://www.RobBagby.com">www.RobBagby.com<o:p></o:p></a></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">In 1993 Web = Content, today Web = Content + Capabilities. Web is a graph of linked resources. Resources support a fixed set of operations (HTTP verbs)</span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-size: 11.0pt; mso-bidi-font-weight: bold; mso-bidi-font-style: italic">REST is an architectural style, not a specification</span><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'"><o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Play well with HTTP (honor response codes, use verbs) as we build other applications to run on the web. HTTP&nbsp;has proven to be good why not continuing using it.<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">New 3.5 binding webHttpBinding does not use SOAP envelope, it's RESTful friendly.<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Use&nbsp;WebGet and WebInvoke attributes.<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-size: 11.0pt; mso-bidi-font-weight: bold">WCF REST Starter Kit (CodePlex project) has three components:&nbsp;</span><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">New DLL Microsoft.ServiceModel.Web.dll,&nbsp;</span><span style="font-size: 10pt; color: black; font-family: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore"><span style="font: 7pt &quot;Times New Roman&quot;"> </span></span></span><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Visual Studio 2008 Templates and&nbsp;</span><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">REST Samples.<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 2.4pt 0in 1.2pt; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Rob suggested four features our services should provide: (1) Use appropriated HTTP verbs, (2) Chose a representation, (3) Provide addressability, and (4) use valid HTTP response codes. These features are fully supported in the WCF REST Starter Kit via (1) WebGet attribute, (2) ResponseFormat parameter, (3) URITemplate, and (4) WebProtocolException class.<span style="mso-spacerun: yes">&nbsp; </span><o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 2.4pt 0in 1.2pt; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'"><o:p>&nbsp;</o:p></span></p>
<div class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal; text-align: center" align="center"><span style="font-size: 10pt; color: red; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-size: 11.0pt"><hr align="center" width="100%" size="2" />
</span></div>

<p class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal"><span style="font-size: 10pt; color: red; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-size: 11.0pt">Wednesday, November 12th</span><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-size: 11.0pt">&nbsp;<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: normal; mso-outline-level: 2"><span style="font-size: 16pt; color: #bc8f5f; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">From one server to two: Making the leap</span><span style="font-size: 16pt; color: #bc8f5f; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;; mso-fareast-font-family: 'Times New Roman'"><o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'"><img alt="" align="left" src="http://hectorcorrea.com/images/vg_stratosphere.jpg" />I came late to this session so I don&rsquo;t have much on the first part of it but I found it very interesting. The speaker (Richard Campbell) was very honest on what you get and what you don&rsquo;t get when you start using more than one server to host your application.<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">You use load balancing to improve reliability and scalability, but that does not necessarily translate into performance. By using load balancing the application will be more resistant to hardware faults (reliability) and support more users (scalability) but it won&rsquo;t become faster.<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">NLB adds overhead to the processing of a request, especially if you use server affinity. <o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">You tell the cluster to drain a server, this will let the server finish processing whatever requests/sessions are currently on the server but it won&rsquo;t take more requests. This work as expected when no affinity is used. When affinity is used draining a server can take hours since sessions don&rsquo;t expire immediately and users could keep submitting requests on the same session and the machine won&rsquo;t be free up until all sessions have been closed or expired.<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">If you use the no affinity approach objects need to be marked as serializable to be saved in the session cache. This is because with no affinity session is stored out of proc. It&rsquo;s very important to keep session information to a minimal when storing it out of process. <o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Windows comes with a State Server that stores session (state) information in memory. It&rsquo;s about twice as fast as storing information in SQL Server but it is a single point of failure. You can store session information in SQL Server as well and cluster SQL Server to prevent single point of failure. Third parties are worth considering.<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">He recommends that if you create a cluster, go all the way: use the no affinity approach. <o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">When testing clusters make sure you test large time spans (10-15 minutes at least) to make sure you get a realistic picture. <o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Windows NLB detects if a machine goes down but it does not detect if IIS becomes non-responsive. You get what you paid for it.&nbsp;</span><span style="font-size: 16pt; color: #bc8f5f; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">&nbsp;</span><span style="font-size: 10pt; color: red; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-size: 11.0pt"><o:p></o:p></span></p>
<div class="MsoNormal" style="margin: 0.2in 0in; line-height: normal; text-align: center; mso-outline-level: 2" align="center"><span style="font-size: 10pt; color: red; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-size: 11.0pt"><hr align="center" width="100%" size="2" />
</span></div>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: normal; mso-outline-level: 2"><span style="font-size: 16pt; color: #bc8f5f; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">WCF Durable Services<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'"><img alt="" align="left" src="http://hectorcorrea.com/images/vg_belagio.jpg" />Juval Lowy started this session by talking about Custom Context in WCF and you can use this to pass out of band parameters in the header of a request. For example, if you need to have a way to identify who is making the call instead of passing an extra parameter on each method call you can store this information in the Context of the request and pass it back and forth. <o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">There are three bindings that support this feature, look for bindings with the word &ldquo;Context&rdquo; on them, for example BasicHttpContextBinding.<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">He&rsquo;s build a few wrapper classes that make using the context information a breeze. Download them from his site: </span><a href="http://idesign.com/"><span style="font-size: 10pt; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'"><font color="#0000ff">http://idesign.com</font></span></a><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'"> <o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">After explaining this Juval moved to talk about durable sessions. He started by describing how in most client/server programming there is the implicit assumption that requests are short (milliseconds to minutes) Most client/server programming models assume this and work OK when the duration of the requests are short but fall short when requests take hours or days. On large time spans clients may come and go; hosts may come and go or move to different machines. <o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">For long running requests you cannot keep service state in memory at all times, you need to persist it. Clients need to provide a state identifier so that the server can pull the correct state from the persistent storage. There are two basic was ways to pass this information around. One is to add an extra parameter to every call and pass the session identifier there but this is ugly and introduces &ldquo;infrastructure&rdquo; information to the business methods. A better approach is to pass this information in the context of the request. <o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">You can add values to the context of a request from both, the client and the server. Server is the preferred approach. <o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">If you change values on a static context on the server side make sure you make it thread safe (i.e. use lock)<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">To use durable services add DurableService attribute to your service class.<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">You can mark some of your methods with DurableOperation(CompleteInstance=true) to indicate that this method completes a session (e.g. the work to be done has been completed) and let the server know that when this method is called it can clear the session information for this caller. Once you end a session you need to recreate it (custom code required.)<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Juval showed all his examples using a &ldquo;File Persistent&rdquo; provider to keep things simple. WCF provides a SQL Persistent provider. Look under the 3.5\SQL folder for the scripts to create the database.<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Towards the end Juval closed the session by demoing &ldquo;transactional memory&rdquo; &ndash; this was very cool but I got lost in the process and my notes are not very clear. The basic idea was that you can implement transactions for operations that happen in memory. For example, execute this process but don&rsquo;t change any values in memory if an exception happens in the process. Basically you decide when changes to values in memory are committed.&nbsp;<o:p></o:p></span></p>
<div class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal; text-align: center" align="center"><span style="font-size: 10pt; color: red; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-size: 11.0pt"><hr align="center" width="100%" size="2" />
</span></div>

<p class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal"><span style="font-size: 16pt; color: #bc8f5f; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Building a WCF Router for Your Applications</span><span style="font-size: 12pt; color: red; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;; mso-fareast-font-family: 'Times New Roman'"><o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'"><img alt="" align="left" src="http://hectorcorrea.com/images/vg_atnight.jpg" />This Michelle Leroux Bustamante talked how to create a WCF Service to route messages. There are two kinds of routers: Pass-Through routers and Processing Routers. This was by far the most advanced session that attended in the conference.&nbsp;Even though&nbsp;Michelle&nbsp;did a great job explaining the topic it was waaaaay more than I could understand. <o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'"><o:p><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">She described several reasons why you might want to build your own router. A routing service can serve as a software load balancer (which is typically not very practical since routers are cheap these days) but it can also do routing based on the content of the message (requests from strict SLA clients go to the best servers) something that a hardware solution couldn&rsquo;t provide. A router service is also useful if you want to support online/offline scenarios.<o:p></o:p></span></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">There are several considerations that you need to be aware when building a service router. When a router receives a message and forwards it to a different service it can change its header, content, both, or none. If a router A does not change the header information and forwards it to service A that does not use security the request will be accepted by service A. However if the Service A implements security at it will reject the message because in the header indicates that the message was originally for router A (not Service A.) If the router is smart enough it can change the header of the message to indicate that the receiving end is really Service A but this introduces another issue because now Service A will see that somebody has tampered with the original headers. Michelle explained ways to address these issues using supported WCF functionality. She even showed how to support different transport protocols between the client and the router (e.g. HTTP) and the router and the service (TCP.) None of this was trivial for the uneducated like me but nevertheless possible and well supported in WCF.<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">In general it seems that routing is very easy until you turn on security. It&rsquo;s very easy to thing that it only took a couple of minutes to get it working until you realize that security is off. Once you turn security on then you&rsquo;ll deal into the things that she described.<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">There were several interesting demos showing how messages would go back and forth to different servers depending on different algorithms including round robin, information on the message header or the message body. <o:p></o:p></span></p>
<div class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal; text-align: center" align="center"><span style="font-size: 10pt; color: red; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-size: 11.0pt"><hr align="center" width="100%" size="2" />
</span></div>

<p class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal"><span style="font-size: 16pt; color: #bc8f5f; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">LINQ to SQL</span><span style="font-size: 12pt; color: red; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;; mso-fareast-font-family: 'Times New Roman'"><o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'"><img alt="" align="left" src="http://hectorcorrea.com/images/vg_casino.jpg" />Dino Esposito presented a very good introduction to LINQ to SQL. LINQ to SQL provides an object model on which LINQ operates to read and write data to a database. It also provides an abstraction layer on top of connections, data readers, datasets, transactions, and such.<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">LINQ to SQL is SQL Server specific. Other vendors might support it in the future.<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Classes generated in the object model used by LINQ to SQL have C# attributes that describe what table/column they represent in the database. These classes are partial and you can extend them, for example to add business logic.<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Relationships between tables are implemented as composite classes in the object model provided by LINQ to SQL. For example, Customer.Invoices[0].DueDate and Invoice.Customer.FirstName<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">The entry point to the object model is the DataContext class. This is the class that tracks changes. This class is short-lived and it&rsquo;s recreated on each ASP.NET request. Opening a DataContext does not necessarily open a database connection, the database will not be hit until the first read or write to the data is detected. The fact that this class is recreated on each request is an issue in n-tier applications. This is the issue mentioned on the &ldquo;Entity Framework in a World of Services and Processes&rdquo; session yesterday and that will not be addressed until V2.0 of the Entity Framework.<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Something that I found curious is that for queries you use LINQ syntax (which looks a lot like SQL syntax) but for updated you need to create a new object, populate the values that you want to change, and then call some specific methods (like SubmitChanges) to push the data to the database. Like in the session about the Entity Framework yesterday it seems that they&rsquo;ve done a great job when it comes to reading data but the procedure to perform updates seems kludgy. That whole concept that you clone an object and then attached to a different DataContext just does not look right. I am sure you can get used to it but it just makes the product seem unfinished. <o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Dino was extremely honest on some of the awkward things when working with LINQ to SQL (most of which also apply to EF.) For example if you turn of lazy loading (aka deferred instantiation) some of the children collections like Customer.Orders.Count will return zero. He also showed some of the hacks that he had to go through when trying to force an update when a property that didn&rsquo;t match one to one to a field was used. <o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: 21.6pt"><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">In general LINQ to SQL and the Entity Framework look like great ideas that one should keep an eye on. If I didn&rsquo;t knew about the <a target="_blank" href="http://www.lhotka.net/cslanet/">CSLA Framework</a> that Rockford Lhotka provides for free I would be all over this stuff, but since Lhotka&rsquo;s framework has been around for a while is a more mature product. You can use LINQ (and LINQ to SQL and I suppose even the Entity Framework) with CSLA but CSLA provides enough that I don&rsquo;t see much value on LINQ to SQL and EF in their current state.</span><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'"><o:p>&nbsp;</o:p></span></p>
<div class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal; text-align: center" align="center"><span style="font-size: 10pt; color: red; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-size: 11.0pt"><hr align="center" width="100%" size="2" />
</span></div>

<p class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal"><span style="font-size: 10pt; color: red; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-size: 11.0pt">Thursday, November 13th</span><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-size: 11.0pt">&nbsp;<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: normal; mso-outline-level: 2"><span style="font-size: 16pt; color: #bc8f5f; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">High Performance Computing (HPC) </span><span style="font-size: 16pt; color: #bc8f5f; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;; mso-fareast-font-family: 'Times New Roman'"><o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0in 0in 10pt"><span style="font-size: 10pt; color: black; line-height: 115%; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'"><img alt="" align="left" src="http://hectorcorrea.com/images/vg_excalibur.jpg" />Nick Landry presented this session. High Performance Computing is used in scenarios when a user needs to submit a massive job, where as load balancing is used to handle massive number of users. An HPC Cluster is similar to a super computer, more than a typical network cluster. <o:p></o:p></span></p>
<p class="MsoNormal" style="margin: 0in 0in 10pt"><span style="font-size: 10pt; color: black; line-height: 115%; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">An example where HPC is used is to calculate stock projections. Calculating the stock projection for a single stock is a very intensive job and it gets even worse when we need to calculate projections for the entire portfolio of a large client. In this case a massive job (calculate stock projections for these 100 stocks) is submitted to HPC cluster in which multiple machines work on the same job.<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0in 0in 10pt"><span style="font-size: 10pt; color: black; line-height: 115%; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Microsoft provides a product called Windows HPC Server 2008 (formerly known as &ldquo;Compute Cluster Server) that runs on top of Windows 2008 to create a HPC Cluster. <a href="http://microsoft.com/hpc"><font color="#0000ff">http://microsoft.com/hpc</font></a><o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0in 0in 10pt"><span style="font-size: 10pt; color: black; line-height: 115%; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Version 1 of Windows HCP accepted batch jobs only submitted via a command line. In Version 2 there is an API that allows you to submit jobs. <o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0in 0in 10pt"><span style="font-size: 10pt; color: black; line-height: 115%; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">To get started you need Windows Server 2008 plus the HPC Pack. The HPC Pack is licensed by CPU and Microsoft&rsquo;s offer is the cheapest of the products around. The HPC Pack is what you use to setup the &ldquo;head node&rdquo; or to join an existing cluster. The head node runs the scheduler and knows about other machines. <o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0in 0in 10pt"><span style="font-size: 10pt; color: black; line-height: 115%; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">There are .NET libraries to submit jobs to a HPC Cluster. For example, a single GetProjectionsForAllMyStocks() call will be broken down into multiple tasks (for example one per available computer) and run in parallel.&nbsp;</span><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'"><o:p>&nbsp;</o:p></span></p>
<div class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal; text-align: center" align="center"><span style="font-size: 10pt; color: red; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-size: 11.0pt"><hr align="center" width="100%" size="2" />
</span></div>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: normal; mso-outline-level: 2"><span style="font-size: 16pt; color: #bc8f5f; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Productive WCF </span><span style="font-size: 16pt; color: #bc8f5f; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;; mso-fareast-font-family: 'Times New Roman'"><o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0in 0in 10pt"><span style="font-size: 10pt; color: black; line-height: 115%; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'"><img alt="" align="left" src="http://hectorcorrea.com/images/vg_sign.jpg" />In this session Juval Lowy focused on how to use WCF more than the plumbing underneath. He started by talking about WcfSvcHost.exe to host WCF Services without having to write your own host wrapper code. You can use it to start a WCF library project. You can call it with a /client parameter to fire both server and client applications at the same time. You can also call WcfTestClient.exe program to call a particular server (similar to the ASP.NET Web Service test page)<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0in 0in 10pt"><strong style="mso-bidi-font-weight: normal"><span style="font-size: 10pt; color: black; line-height: 115%; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Instrumentation.</span></strong><span style="font-size: 10pt; color: black; line-height: 115%; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'"> WCF has several performance counters that you can use to monitor WCF Services. Just turn on performance counters in your config file (under ServiceModel) and monitor them with perfmon like you would typically would.<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0in 0in 10pt"><strong style="mso-bidi-font-weight: normal"><span style="font-size: 10pt; color: black; line-height: 115%; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Tracing and logging</span></strong><span style="font-size: 10pt; color: black; line-height: 115%; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">. &ldquo;It&rsquo;s an illusion that clients care about the details of an exception&rdquo; &ndash; most clients application have &ldquo;if returnValue == OK then do X else display message to the user&rdquo; In reality there is very little that the client application can do with the error other than telling the user &ldquo;sorry&rdquo; &ndash; if there was something to do the app would have already done it. Don&rsquo;t create custom exception. Use the already build in ones.<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0in 0in 10pt"><span style="font-size: 10pt; color: black; line-height: 115%; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">You can turn on tracing and logging via the configuration file or with the WCF Configuration tool (look under diagnosis.) Make sure you turn on &ldquo;auto-flush&rdquo; so that the logging information is saved even if you stop the debugger in the middle of a session. <o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0in 0in 10pt"><span style="font-size: 10pt; color: black; line-height: 115%; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">The &ldquo;activity ID&rdquo; checkbox in the WCF Configuration tool refers to a &ldquo;logical thread&rdquo; that tracks the activity across all tiers (client, host, service, et cetera.) The TraceViewer utility can automatically merge the log file from the client and the server with this activity ID. This is really cool.<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0in 0in 10pt"><strong style="mso-bidi-font-weight: normal"><span style="font-size: 10pt; color: black; line-height: 115%; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Operations Overloading</span></strong><span style="font-size: 10pt; color: black; line-height: 115%; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">. You <span style="mso-spacerun: yes">&nbsp;</span>can modify the proxy class to support multiple method overloading by tagging them different via an attribute. For example to alias Add(int, int) into AddInt and Add(float, float) into AddFloat. <o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0in 0in 10pt"><strong style="mso-bidi-font-weight: normal"><span style="font-size: 10pt; color: black; line-height: 115%; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">DataSets and DataTables</span></strong><span style="font-size: 10pt; color: black; line-height: 115%; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">. You should not return DataSets in your services. They are not good for other platforms other than .NET and are bound to database schema. You should use arrays instead<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0in 0in 10pt"><strong style="mso-bidi-font-weight: normal"><span style="font-size: 10pt; color: black; line-height: 115%; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Fault Debugging</span></strong><span style="font-size: 10pt; color: black; line-height: 115%; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">. By default exception information is not bubbled up to the client application. He showed some code on the server side where he throws exception using throw new FaultException(ExceptionDetail) where ExceptionDetail is a custom class. You need to turn on &ldquo;include exception detail&rdquo; at the service level for this to work.<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0in 0in 10pt"><span style="font-size: 10pt; color: black; line-height: 115%; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Once you turn use this code you can catch FaultException&lt;ExceptionDetail&gt; in addition to a generic catch FaultException in your client application.</span><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'"><span style="mso-spacerun: yes">&nbsp;</span><o:p></o:p></span></p>
<div class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal; text-align: center" align="center"><span style="font-size: 10pt; color: red; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-size: 11.0pt"><hr align="center" width="100%" size="2" />
</span></div>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: normal; mso-outline-level: 2"><span style="font-size: 16pt; color: #bc8f5f; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Using jQuery with ASP.NET </span><span style="font-size: 16pt; color: #bc8f5f; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;; mso-fareast-font-family: 'Times New Roman'"><o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0in 0in 10pt"><span style="font-size: 10pt; color: black; line-height: 115%; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'"><img alt="" align="left" src="http://hectorcorrea.com/images/vg_lamp.jpg" />Rick Strahl gave a very good overview of what is jQuery, what it can do, and how to use it. <o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0in 0in 10pt"><span style="font-size: 10pt; color: black; line-height: 115%; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">jQuery is conceptually like &ldquo;LINQ to HTML&rdquo; in the sense that it allows you to query the HTML document at runtime and returns collections of objects. Rick called it the new HTML API.<o:p></o:p></span></p>
<p class="MsoNormal" style="margin: 0in 0in 10pt"><span style="font-size: 10pt; color: black; line-height: 115%; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">jQuery is open source and quite popular, there are 100s of plug-ins available for it. The download is pretty small: 16KB. It uses CSS 3 selector syntax (dot to select classes, pound sign to select IDs)<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0in 0in 10pt"><span style="font-size: 10pt; color: black; line-height: 115%; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">jQuery is open source but it also come as part of Visual Studio 2008 SP1.<o:p></o:p></span></p>
<p class="MsoNormal" style="margin: 0in 0in 10pt"><span style="font-size: 10pt; color: black; line-height: 115%; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Rick showed several examples on how to select rows inside a table and change the background color of the even rows to produce an alternate grid. He then added with a very simple line of code a OnMouseHover JavaScript to all rows of the table to highlight the current row as the user hovers the mouse. The library is very powerful and once you know a few simple commands you can start using it. Below are some examples. $() is the selector operator and is a shortcut for jQuery()<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0in 0in 10pt"><span style="font-size: 10pt; color: black; line-height: 115%; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">$(&ldquo;#someElementID&rdquo;).css(&ldquo;color&rdquo;,&rdquo;blue&rdquo;) changes the font to blue of some element<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0in 0in 10pt"><span style="font-size: 10pt; color: black; line-height: 115%; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">$(&ldquo;.someClass, .someOtherClass&rdquo;).hide() hides all elements of someClass and someOtherClass<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0in 0in 10pt"><span style="font-size: 10pt; color: black; line-height: 115%; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">$(&ldquo;table tbody tr:even&rdquo;).addClass(&ldquo;gAlternate&rdquo;).css(&ldquo;{font-weight:bold}&rdquo;) to assign gAlternate class to all even rows on a table and change their font to bold. <o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0in 0in 10pt"><span style="font-size: 10pt; color: black; line-height: 115%; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">There were some neat examples on how to use client side sorting, drag and drop, pop-up screens with fading effects. All of this with pure JavaScript and cross-browser compatible. <o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0in 0in 10pt"><span style="font-size: 10pt; color: black; line-height: 115%; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">Towards the end Rick also showed some examples on how to use jQuery to call ASP.NET pages AJAX-like. He also demoed some stuff on serializing objects using JSON, consuming WCF services with jQuery, and a bunch of other things.&nbsp;</span><span style="font-size: 10pt; color: black; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'"><o:p>&nbsp;</o:p></span></p>
<div class="MsoNormal" style="margin: 0in 0in 0pt; line-height: normal; text-align: center" align="center"><span style="font-size: 10pt; color: red; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-size: 11.0pt"><hr align="center" width="100%" size="2" />
</span></div>

<p class="MsoNormal" style="margin: 0.2in 0in; line-height: normal; mso-outline-level: 2"><span style="font-size: 16pt; color: #bc8f5f; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">PLINQ: LINQ but faster </span><span style="font-size: 16pt; color: #bc8f5f; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;; mso-fareast-font-family: 'Times New Roman'"><o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0in 0in 10pt"><span style="font-size: 10pt; color: black; line-height: 115%; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'"><img alt="" align="left" src="http://hectorcorrea.com/images/vg_venetian.jpg" />Stephen Toub from Microsoft gave an outstanding presentation on Parallel LINQ which is something that Microsoft is working for .NET 4.0 <o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0in 0in 10pt"><span style="font-size: 10pt; color: black; line-height: 115%; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">PLINQ is for data in memory (i.e. LINQ to Objects, not LINQ to SQL)<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0in 0in 10pt"><span style="font-size: 10pt; color: black; line-height: 115%; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">The basic premise is that people are not taking advantage of multi-code machines because parallelism is (very) hard. Stephen showed a typical example how a loop that selects some values from a collection and sorts them can be done in parallel. The code is nasty to put it mildly, you need to use lock, synching results, creating multiple threads, and so on. <o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0in 0in 10pt"><span style="font-size: 10pt; color: black; line-height: 115%; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">With PLINQ the idea is that you tell LINQ &ldquo;run this in parallel&rdquo; and let the framework do the work for you. All you would need to do is add AsParallel to a LINQ statement like in the following example: var v = from c in collection.<strong style="mso-bidi-font-weight: normal">AsParallel()</strong> when c.name &gt; &ldquo;x&rdquo; select c.name, c.age <o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0in 0in 10pt"><span style="font-size: 10pt; color: black; line-height: 115%; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">PLINQ is currently in CTP stage. The June CTP release works with .NET 3.5 Go to <font color="#0000ff"><a target="_blank" href="http://msdn.microsoft.com/concurrency">http://msdn.microsoft.com/concurrency</a></font> <o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0in 0in 10pt"><span style="font-size: 10pt; color: black; line-height: 115%; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">There are two kinds of collections that LINQ can use. Collections that implement IEnumerable and collections that implement IList. IEnumerable is the most primitive and since it not thread safe PLINQ results to brute force (lock, get current, move next) and therefore you might not benefit a lot of parallelism in these collections. IList on the other hand is thread safe and allows PLINQ to make &ldquo;smarter&rdquo; decision on how to break the job like using Range and Stripe partitions.<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0in 0in 10pt"><span style="font-size: 10pt; color: black; line-height: 115%; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">The benefit of parallelism is not linear. A machine with 2 cores might be 1.75x faster than a machine with one core and a machine with 4 cores might be 3x faster than the machine with one core. This is because there is some cost associated with breaking apart a job to be run in parallel and merge the results at the end. <o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0in 0in 10pt"><span style="font-size: 10pt; color: black; line-height: 115%; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">If there is a lot of I/O in your process you can increase the degree of parallelism (DOP) to a large number than the number of processors since the processors might become idle as they wait of the data to be retrieved/saved.<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0in 0in 10pt"><span style="font-size: 10pt; color: black; line-height: 115%; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">When using AsParallel the order of the results is not guaranteed. You can add AsOrdered to force ordering but that also adds overhead.<o:p></o:p></span></p>

<p class="MsoNormal" style="margin: 0in 0in 10pt"><span style="font-size: 10pt; color: black; line-height: 115%; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; mso-fareast-font-family: 'Times New Roman'">There are several kinds of partitions used by PLINQ. Chunk and Hash for IEnumerable collections and Range and Stripe for IList collections. There are also several kind of merge procedures that PLINQ can use like Pipeline, Stop and Go, and Inverted. You have some control on what kind of partition and merge process is used but you are probably better off letting the framework make those decisions, similar to the way a database management system does.</span></p>